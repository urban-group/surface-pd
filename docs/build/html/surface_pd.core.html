<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>surface_pd.core package &mdash; surface-pd 0.0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="surface_pd.error package" href="surface_pd.error.html" />
    <link rel="prev" title="surface_pd.analysis package" href="surface_pd.analysis.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> surface-pd
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="theory.html">Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">surface_pd</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="surface_pd.html">surface_pd package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="surface_pd.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="surface_pd.analysis.html">surface_pd.analysis package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">surface_pd.core package</a></li>
<li class="toctree-l4"><a class="reference internal" href="surface_pd.error.html">surface_pd.error package</a></li>
<li class="toctree-l4"><a class="reference internal" href="surface_pd.plot.html">surface_pd.plot package</a></li>
<li class="toctree-l4"><a class="reference internal" href="surface_pd.util.html">surface_pd.util package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="surface_pd.html#module-surface_pd">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="how_to_cite.html">How to cite</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">surface-pd</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">surface_pd</a> &raquo;</li>
          <li><a href="surface_pd.html">surface_pd package</a> &raquo;</li>
      <li>surface_pd.core package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/surface_pd.core.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="surface-pd-core-package">
<h1>surface_pd.core package<a class="headerlink" href="#surface-pd-core-package" title="Permalink to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-surface_pd.core.enum">
<span id="surface-pd-core-enum-module"></span><h2>surface_pd.core.enum module<a class="headerlink" href="#module-surface_pd.core.enum" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="surface_pd.core.enum.EnumWithComposition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">surface_pd.core.enum.</span></span><span class="sig-name descname"><span class="pre">EnumWithComposition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subs_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_cell_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cell_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enum_precision_parameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1e-05</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.enum.EnumWithComposition" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>EnumWithComposition class to enumerate the parent slab model with
defined composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subs_dict</strong> (<em>dict</em>) – Species and occupancy dictionaries containing the
species mapping in string-string pairs.</p></li>
<li><p><strong>min_cell_size</strong> (<em>int</em>) – The minimum cell size. Must be an int.
Defaults to 1.</p></li>
<li><p><strong>max_cell_size</strong> (<em>int</em>) – The maximum cell size. Must be an int.
Defaults to 1.</p></li>
<li><p><strong>enum_precision_parameter</strong> (<em>float</em>) – Finite precision parameter for
enumlib. Defaults to 1e-5.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.enum.EnumWithComposition.apply_enumeration">
<span class="sig-name descname"><span class="pre">apply_enumeration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#surface_pd.core.slab.Slab" title="surface_pd.core.slab.Slab"><span class="pre">Slab</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_structures</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.enum.EnumWithComposition.apply_enumeration" title="Permalink to this definition"></a></dt>
<dd><p>Apply enumeration to parent slab model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> – Parent slab model.</p></li>
<li><p><strong>max_structures</strong> – Number of structures to be returned at most for
each composition. Defaults to 2000.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A sequence of all enumerated structures.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-surface_pd.core.post_check">
<span id="surface-pd-core-post-check-module"></span><h2>surface_pd.core.post_check module<a class="headerlink" href="#module-surface_pd.core.post_check" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="surface_pd.core.post_check.PostCheck">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">surface_pd.core.post_check.</span></span><span class="sig-name descname"><span class="pre">PostCheck</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refined_structure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#surface_pd.core.slab.Slab" title="surface_pd.core.slab.Slab"><span class="pre">Slab</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.post_check.PostCheck" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>PostCheck class to check whether the output slab model is valid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>refined_structure</strong> – After refined structure, to be checked.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.post_check.PostCheck.final_check">
<span class="sig-name descname"><span class="pre">final_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">composition_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_symmetric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criteria</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.post_check.PostCheck.final_check" title="Permalink to this definition"></a></dt>
<dd><p>Perform final check to see whether the enumerated slab models are
correct.</p>
<ol class="arabic simple">
<li><p>Has the correct geometry.</p></li>
</ol>
<p>2. Has the inversion symmetry center even with a quite high symmetry
detection parameter.</p>
<p>3. Has the inversion symmetry center shifted to the origin (0,
0, 0).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species</strong> – Target species that will be enumerated.</p></li>
<li><p><strong>composition_list</strong> – Compositions of enumerated species.</p></li>
<li><p><strong>index</strong> – Unique index of this slab model.</p></li>
<li><p><strong>keep_symmetric</strong> – Whether the symmetry of the slab model will be
kept after the enumeration.</p></li>
<li><p><strong>criteria</strong> – </p></li>
<li><p><strong>symprec</strong> – Tolerance for symmetry finding. Defaults to 1e-5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If everything is fine, it will just pass. If something
unexpected happens, the specific error report will generate.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.post_check.PostCheck.slab_size_check">
<span class="sig-name descname"><span class="pre">slab_size_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">total_num_sites</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enumerated_num_sites</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criteria</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.post_check.PostCheck.slab_size_check" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the after refined structure has the right geometry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>total_num_sites</strong> – Number of sites that should be after enumeration.</p></li>
<li><p><strong>enumerated_num_sites</strong> – Actual number of sites for the enumerated
slab model.</p></li>
<li><p><strong>criteria</strong> – Lattice parameter perpendicular to the input(parent)
slab model surface.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Indicator and after-operated structure.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-surface_pd.core.pre_check">
<span id="surface-pd-core-pre-check-module"></span><h2>surface_pd.core.pre_check module<a class="headerlink" href="#module-surface_pd.core.pre_check" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="surface_pd.core.pre_check.PreCheck">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">surface_pd.core.pre_check.</span></span><span class="sig-name descname"><span class="pre">PreCheck</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#surface_pd.core.slab.Slab" title="surface_pd.core.slab.Slab"><span class="pre">Slab</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.pre_check.PreCheck" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>PreCheck class to check whether the input slab model is valid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>structure</strong> – Input slab model.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.pre_check.PreCheck.all_has_selective_dynamics">
<span class="sig-name descname"><span class="pre">all_has_selective_dynamics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.pre_check.PreCheck.all_has_selective_dynamics" title="Permalink to this definition"></a></dt>
<dd><p>Check if all sites have selective dynamics as the site properties.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="surface_pd.core.pre_check.PreCheck.enum_cmd">
<span class="sig-name descname"><span class="pre">enum_cmd</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/Users/xinhaoli/code/enum.x'</span></em><a class="headerlink" href="#surface_pd.core.pre_check.PreCheck.enum_cmd" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.pre_check.PreCheck.has_inversion_symmetry">
<span class="sig-name descname"><span class="pre">has_inversion_symmetry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.pre_check.PreCheck.has_inversion_symmetry" title="Permalink to this definition"></a></dt>
<dd><p>Check if the input structure has inversion symmetry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>symprec</strong> – Symmetry detection tolerance. Defaults to 0.1. (
fairly strict).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.pre_check.PreCheck.has_validate_composition">
<span class="sig-name descname"><span class="pre">has_validate_composition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">replace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cell_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.pre_check.PreCheck.has_validate_composition" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the user defined composition can be enumerated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>replace</strong> – Species and occupancy dictionaries containing the species
mapping in string-string pairs. E.g. {‘Li’: {‘Li’: 0.5}},
stored in the list.</p></li>
<li><p><strong>max_cell_size</strong> – Maximum number of supercells of the input slab.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.pre_check.PreCheck.is_cuboid">
<span class="sig-name descname"><span class="pre">is_cuboid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.pre_check.PreCheck.is_cuboid" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the input structure is a cuboid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.pre_check.PreCheck.is_slab">
<span class="sig-name descname"><span class="pre">is_slab</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.pre_check.PreCheck.is_slab" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the input structure is a slab.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="surface_pd.core.pre_check.PreCheck.makestr_cmd">
<span class="sig-name descname"><span class="pre">makestr_cmd</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/Users/xinhaoli/code/makestr.x'</span></em><a class="headerlink" href="#surface_pd.core.pre_check.PreCheck.makestr_cmd" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.pre_check.PreCheck.relax_both_surfaces">
<span class="sig-name descname"><span class="pre">relax_both_surfaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.pre_check.PreCheck.relax_both_surfaces" title="Permalink to this definition"></a></dt>
<dd><p>Check if the input slab model has only one side of the surface
will be relaxed.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-surface_pd.core.slab">
<span id="surface-pd-core-slab-module"></span><h2>surface_pd.core.slab module<a class="headerlink" href="#module-surface_pd.core.slab" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">surface_pd.core.slab.</span></span><span class="sig-name descname"><span class="pre">Slab</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lattice</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Lattice</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">species</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Element</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Species</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DummySpecies</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Composition</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate_proximity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_unit_cell</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords_are_cartesian</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site_properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_direction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_tolerance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.03</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_to_be_enumerated_species</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_num_layers_enumed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_symmetric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Structure</span></code></p>
<p>Constructor of periodic Slab class.
This child class is inherited from the pymatgen.core.structure.Structure.
The args defined have the same meanings as in the pymatgen
documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lattice</strong> (<em>Union</em>) – Either a pymatgen.core.lattice.Lattice or any 2D
array.</p></li>
<li><p><strong>species</strong> (<em>Sequence</em>) – List of species on each site.</p></li>
<li><p><strong>coords</strong> (<em>Sequence</em>) – List of fractional or cartesian coordinates of each
species.</p></li>
<li><p><strong>charge</strong> (<em>float</em>) – Overall charge of the structure.</p></li>
<li><p><strong>validate_proximity</strong> (<em>bool</em>) – Whether to check if the distance between
two sites is two close, i.e. less than 0.01 Ang. Defaults to False.</p></li>
<li><p><strong>to_unit_cell</strong> (<em>bool</em>) – Whether to wrap fractional coordinates back
into the unit cell. Defaults to False.</p></li>
<li><p><strong>coords_are_cartesian</strong> (<em>bool</em>) – Whether the coordinates of sites are
provided in cartesian coordinates. Defaults to False.</p></li>
<li><p><strong>site_properties</strong> (<em>dict</em>) – Properties of each site in the slab model as a
dict of sequences. Defaults to None.</p></li>
<li><p><strong>_direction</strong> (<em>int</em>) – Lattice direction perpendicular to the surface,
i.e. parallel to the c lattice parameter. Defaults to 2.</p></li>
<li><p><strong>_tolerance</strong> (<em>float</em>) – If the distance between two sites in c direction is
larger than this tolerance value, these two sites will be
treated as located on two difference layers.</p></li>
<li><p><strong>_to_be_enumerated_species</strong> (<em>list</em>) – </p></li>
<li><p><strong>_num_layers_enumed</strong> (<em>dict</em>) – </p></li>
<li><p><strong>_symmetric</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.add_selective_dynamics">
<span class="sig-name descname"><span class="pre">add_selective_dynamics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lower_limit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_limit</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.add_selective_dynamics" title="Permalink to this definition"></a></dt>
<dd><p>Add selective dynamics to the after refined slab model based on the
number of layers that will be relaxed on the surface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lower_limit</strong> – Lower limit of the central fixed region</p></li>
<li><p><strong>upper_limit</strong> – Upper limit of the central fixed region</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Enumerated slab model with “selective dynamics” labeled.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.calculate_num_sites">
<span class="sig-name descname"><span class="pre">calculate_num_sites</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">composition_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relaxed_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cell_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.calculate_num_sites" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the num of sites should be in the slab model on the basis
of the user defined composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>composition_list</strong> – Compositions of enumerated species.</p></li>
<li><p><strong>relaxed_index</strong> – {“species”: [indices of the target species]}</p></li>
<li><p><strong>max_cell_size</strong> – Maximum number of supercells of the input slab.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of sites in the slab model.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.check_rotate">
<span class="sig-name descname"><span class="pre">check_rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">criteria</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.check_rotate" title="Permalink to this definition"></a></dt>
<dd><p>Check if the enumerated slab models need to rotate to satisfy the
shape (cuboid) requirement.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Cuboid slab model</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.direction">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">direction</span></span><a class="headerlink" href="#surface_pd.core.slab.Slab.direction" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.get_center_sites">
<span class="sig-name descname"><span class="pre">get_center_sites</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.get_center_sites" title="Permalink to this definition"></a></dt>
<dd><p>Get the center sites in the slab model on the basis of the
“selective_dynamics” defined.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>lower and upper limits of the central fixed region, and the
central fixed structure</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.get_max_min_c_frac">
<span class="sig-name descname"><span class="pre">get_max_min_c_frac</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.get_max_min_c_frac" title="Permalink to this definition"></a></dt>
<dd><p>Get the maximum and minimum values of the c fractional coordinates for
all sites. This is used to find the location of the slab region in
the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>maximum and minimum c fractional coordinates of a slab model</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.group_atoms_by_layer">
<span class="sig-name descname"><span class="pre">group_atoms_by_layer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.group_atoms_by_layer" title="Permalink to this definition"></a></dt>
<dd><p>Group misclassified atoms into the right layers.
For example, c_atom1 = 0.01, c_atoms2 = 0.02, they should be
classified in one layer. But actually they are not. So this function
here will search the difference between two closest atoms, if the
difference is smaller than diff, they will be regrouped in the same
layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>layers</strong> – Dict which contains different c fractional
coordinates as keys and number of atoms as values.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict which contains different c fractional
coordinates as keys and number of atoms as values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.index_extraction">
<span class="sig-name descname"><span class="pre">index_extraction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">only_top</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.index_extraction" title="Permalink to this definition"></a></dt>
<dd><p>This function is used to get the indices of the target species in the
relaxed surface layers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>only_top</strong> – Whether to only return indices of the target species in
the top relaxed surface layer.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[indices of the target species]}</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>{“species”</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.is_symmetry">
<span class="sig-name descname"><span class="pre">is_symmetry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_isc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.is_symmetry" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the slab model is symmetric. If it is, the inversion
symmetry center and the inversion operation are able to return.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symprec</strong> – Tolerance for symmetry finding. Defaults to 1e-1.</p></li>
<li><p><strong>return_isc</strong> – Whether to return the inversion symmetry center and
the inversion operation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.layer_distinguisher">
<span class="sig-name descname"><span class="pre">layer_distinguisher</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.layer_distinguisher" title="Permalink to this definition"></a></dt>
<dd><p>This function is used to distinguish the layers that will be relaxed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>c fractional coordinates of the upper and lower boundaries
of the central fixed region. (1, 2)</p>
<p>{“species”: [top (lower surface relaxed region) and bottom (upper
surface relaxed region) c fractional coordinates]}</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.layers_finder">
<span class="sig-name descname"><span class="pre">layers_finder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.layers_finder" title="Permalink to this definition"></a></dt>
<dd><p>This function is used to find the c fractional coordinates of all
species in the input slab model and the number of atoms in each
layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>precision</strong> – Round c fraction coordinates to a given precision in
decimal digits. Defaults to 2.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>{“c fractional coordinates”: number of atoms at here}}</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>{“species”</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.num_layers_enumed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_layers_enumed</span></span><a class="headerlink" href="#surface_pd.core.slab.Slab.num_layers_enumed" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.supplemental_structures_gene">
<span class="sig-name descname"><span class="pre">supplemental_structures_gene</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subs_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relaxed_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.supplemental_structures_gene" title="Permalink to this definition"></a></dt>
<dd><p>This function is used to generate supplemental structures.
Supplemental structures include the cases that the to-be-enumerated
structure is straight forward to generate and does not require the
EnumWithComposition class to involve.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subs_dict</strong> – Species and occupancy dictionaries containing the
species mapping in string-string pairs.</p></li>
<li><p><strong>relaxed_index</strong> – The indices of the to-be-enumerated atoms on the
surface.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New slab model with some sites removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.surface_substitute">
<span class="sig-name descname"><span class="pre">surface_substitute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dummy_species</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.surface_substitute" title="Permalink to this definition"></a></dt>
<dd><p>This function is used to substitute the to-be-enumerated species from
the slab top surface with dummy species. This will facilitate the
EnumWithComposition class to find the targeted species.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dummy_species</strong> – A special specie for representing non-traditional
elements or species.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Substituted slab model</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.symmetric">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">symmetric</span></span><a class="headerlink" href="#surface_pd.core.slab.Slab.symmetric" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.symmetrize_top_base">
<span class="sig-name descname"><span class="pre">symmetrize_top_base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0001</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.symmetrize_top_base" title="Permalink to this definition"></a></dt>
<dd><p>Symmetrize the top surface enumerated slab
model on the basis of the inversion symmetry center to create a
fully enumerated slab model. The inversion symmetry center is
determined based on the central fixed region only because the input
slab model is not symmetric since on the one hand, the top surface
of the slab is substituted by other dummy species,
on the other hand, it has been enumerated with different Li and O
compositions on the surface. Therefore, using the whole slab to
detect the inversion symmetry does not work.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>symprec</strong> – Tolerance for the symmetry detection. Defaults to 1e-4.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Symmetrized slab model with equivalent top and bottom
surfaces.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.to_be_enumerated_species">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_be_enumerated_species</span></span><a class="headerlink" href="#surface_pd.core.slab.Slab.to_be_enumerated_species" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.tolerance">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tolerance</span></span><a class="headerlink" href="#surface_pd.core.slab.Slab.tolerance" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.tune_c">
<span class="sig-name descname"><span class="pre">tune_c</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_min_c</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.tune_c" title="Permalink to this definition"></a></dt>
<dd><p>Slightly adjust the slab along the slab direction defined before.
This is to make sure that the central region is still located at
around the same place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>target_min_c</strong> – Desired minimum fractional coordinate along the
slab direction defined before.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Slight adjusted slab model</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.tune_isc">
<span class="sig-name descname"><span class="pre">tune_isc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_isc_back</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.tune_isc" title="Permalink to this definition"></a></dt>
<dd><p>Shift or shift back the inversion symmetry center.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin</strong> – Inversion symmetry center.</p></li>
<li><p><strong>shift_isc_back</strong> – Whether to shift the inversion symmetry center to
the origin.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Slab model with inversion symmetry center shifted to the origin /</dt><dd><p>back.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.slab.Slab.wrap_pbc">
<span class="sig-name descname"><span class="pre">wrap_pbc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.slab.Slab.wrap_pbc" title="Permalink to this definition"></a></dt>
<dd><p>Wrap out of the boundary fractional coordinates back into the unit
cell.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Slab model with all sites in the unit cell.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-surface_pd.core">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-surface_pd.core" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="surface_pd.core.EnumWithComposition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">surface_pd.core.</span></span><span class="sig-name descname"><span class="pre">EnumWithComposition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subs_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_cell_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cell_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enum_precision_parameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1e-05</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.EnumWithComposition" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>EnumWithComposition class to enumerate the parent slab model with
defined composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subs_dict</strong> (<em>dict</em>) – Species and occupancy dictionaries containing the
species mapping in string-string pairs.</p></li>
<li><p><strong>min_cell_size</strong> (<em>int</em>) – The minimum cell size. Must be an int.
Defaults to 1.</p></li>
<li><p><strong>max_cell_size</strong> (<em>int</em>) – The maximum cell size. Must be an int.
Defaults to 1.</p></li>
<li><p><strong>enum_precision_parameter</strong> (<em>float</em>) – Finite precision parameter for
enumlib. Defaults to 1e-5.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.EnumWithComposition.apply_enumeration">
<span class="sig-name descname"><span class="pre">apply_enumeration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#surface_pd.core.slab.Slab" title="surface_pd.core.slab.Slab"><span class="pre">Slab</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_structures</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.EnumWithComposition.apply_enumeration" title="Permalink to this definition"></a></dt>
<dd><p>Apply enumeration to parent slab model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> – Parent slab model.</p></li>
<li><p><strong>max_structures</strong> – Number of structures to be returned at most for
each composition. Defaults to 2000.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A sequence of all enumerated structures.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="surface_pd.core.PostCheck">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">surface_pd.core.</span></span><span class="sig-name descname"><span class="pre">PostCheck</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refined_structure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#surface_pd.core.slab.Slab" title="surface_pd.core.slab.Slab"><span class="pre">Slab</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.PostCheck" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>PostCheck class to check whether the output slab model is valid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>refined_structure</strong> – After refined structure, to be checked.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.PostCheck.final_check">
<span class="sig-name descname"><span class="pre">final_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">species</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">composition_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_symmetric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criteria</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.PostCheck.final_check" title="Permalink to this definition"></a></dt>
<dd><p>Perform final check to see whether the enumerated slab models are
correct.</p>
<ol class="arabic simple">
<li><p>Has the correct geometry.</p></li>
</ol>
<p>2. Has the inversion symmetry center even with a quite high symmetry
detection parameter.</p>
<p>3. Has the inversion symmetry center shifted to the origin (0,
0, 0).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>species</strong> – Target species that will be enumerated.</p></li>
<li><p><strong>composition_list</strong> – Compositions of enumerated species.</p></li>
<li><p><strong>index</strong> – Unique index of this slab model.</p></li>
<li><p><strong>keep_symmetric</strong> – Whether the symmetry of the slab model will be
kept after the enumeration.</p></li>
<li><p><strong>criteria</strong> – </p></li>
<li><p><strong>symprec</strong> – Tolerance for symmetry finding. Defaults to 1e-5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If everything is fine, it will just pass. If something
unexpected happens, the specific error report will generate.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.PostCheck.slab_size_check">
<span class="sig-name descname"><span class="pre">slab_size_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">total_num_sites</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enumerated_num_sites</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criteria</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.PostCheck.slab_size_check" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the after refined structure has the right geometry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>total_num_sites</strong> – Number of sites that should be after enumeration.</p></li>
<li><p><strong>enumerated_num_sites</strong> – Actual number of sites for the enumerated
slab model.</p></li>
<li><p><strong>criteria</strong> – Lattice parameter perpendicular to the input(parent)
slab model surface.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Indicator and after-operated structure.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="surface_pd.core.PreCheck">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">surface_pd.core.</span></span><span class="sig-name descname"><span class="pre">PreCheck</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#surface_pd.core.slab.Slab" title="surface_pd.core.slab.Slab"><span class="pre">Slab</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.PreCheck" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>PreCheck class to check whether the input slab model is valid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>structure</strong> – Input slab model.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.PreCheck.all_has_selective_dynamics">
<span class="sig-name descname"><span class="pre">all_has_selective_dynamics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.PreCheck.all_has_selective_dynamics" title="Permalink to this definition"></a></dt>
<dd><p>Check if all sites have selective dynamics as the site properties.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="surface_pd.core.PreCheck.enum_cmd">
<span class="sig-name descname"><span class="pre">enum_cmd</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/Users/xinhaoli/code/enum.x'</span></em><a class="headerlink" href="#surface_pd.core.PreCheck.enum_cmd" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.PreCheck.has_inversion_symmetry">
<span class="sig-name descname"><span class="pre">has_inversion_symmetry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.PreCheck.has_inversion_symmetry" title="Permalink to this definition"></a></dt>
<dd><p>Check if the input structure has inversion symmetry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>symprec</strong> – Symmetry detection tolerance. Defaults to 0.1. (
fairly strict).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.PreCheck.has_validate_composition">
<span class="sig-name descname"><span class="pre">has_validate_composition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">replace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cell_size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.PreCheck.has_validate_composition" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the user defined composition can be enumerated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>replace</strong> – Species and occupancy dictionaries containing the species
mapping in string-string pairs. E.g. {‘Li’: {‘Li’: 0.5}},
stored in the list.</p></li>
<li><p><strong>max_cell_size</strong> – Maximum number of supercells of the input slab.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.PreCheck.is_cuboid">
<span class="sig-name descname"><span class="pre">is_cuboid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.PreCheck.is_cuboid" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the input structure is a cuboid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.PreCheck.is_slab">
<span class="sig-name descname"><span class="pre">is_slab</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.PreCheck.is_slab" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the input structure is a slab.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="surface_pd.core.PreCheck.makestr_cmd">
<span class="sig-name descname"><span class="pre">makestr_cmd</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/Users/xinhaoli/code/makestr.x'</span></em><a class="headerlink" href="#surface_pd.core.PreCheck.makestr_cmd" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.PreCheck.relax_both_surfaces">
<span class="sig-name descname"><span class="pre">relax_both_surfaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.PreCheck.relax_both_surfaces" title="Permalink to this definition"></a></dt>
<dd><p>Check if the input slab model has only one side of the surface
will be relaxed.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="surface_pd.core.Slab">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">surface_pd.core.</span></span><span class="sig-name descname"><span class="pre">Slab</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lattice</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Lattice</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">species</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Element</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Species</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">DummySpecies</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Composition</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charge</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate_proximity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_unit_cell</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords_are_cartesian</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site_properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_direction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_tolerance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.03</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_to_be_enumerated_species</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_num_layers_enumed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_symmetric</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Structure</span></code></p>
<p>Constructor of periodic Slab class.
This child class is inherited from the pymatgen.core.structure.Structure.
The args defined have the same meanings as in the pymatgen
documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lattice</strong> (<em>Union</em>) – Either a pymatgen.core.lattice.Lattice or any 2D
array.</p></li>
<li><p><strong>species</strong> (<em>Sequence</em>) – List of species on each site.</p></li>
<li><p><strong>coords</strong> (<em>Sequence</em>) – List of fractional or cartesian coordinates of each
species.</p></li>
<li><p><strong>charge</strong> (<em>float</em>) – Overall charge of the structure.</p></li>
<li><p><strong>validate_proximity</strong> (<em>bool</em>) – Whether to check if the distance between
two sites is two close, i.e. less than 0.01 Ang. Defaults to False.</p></li>
<li><p><strong>to_unit_cell</strong> (<em>bool</em>) – Whether to wrap fractional coordinates back
into the unit cell. Defaults to False.</p></li>
<li><p><strong>coords_are_cartesian</strong> (<em>bool</em>) – Whether the coordinates of sites are
provided in cartesian coordinates. Defaults to False.</p></li>
<li><p><strong>site_properties</strong> (<em>dict</em>) – Properties of each site in the slab model as a
dict of sequences. Defaults to None.</p></li>
<li><p><strong>_direction</strong> (<em>int</em>) – Lattice direction perpendicular to the surface,
i.e. parallel to the c lattice parameter. Defaults to 2.</p></li>
<li><p><strong>_tolerance</strong> (<em>float</em>) – If the distance between two sites in c direction is
larger than this tolerance value, these two sites will be
treated as located on two difference layers.</p></li>
<li><p><strong>_to_be_enumerated_species</strong> (<em>list</em>) – </p></li>
<li><p><strong>_num_layers_enumed</strong> (<em>dict</em>) – </p></li>
<li><p><strong>_symmetric</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.add_selective_dynamics">
<span class="sig-name descname"><span class="pre">add_selective_dynamics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lower_limit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_limit</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.add_selective_dynamics" title="Permalink to this definition"></a></dt>
<dd><p>Add selective dynamics to the after refined slab model based on the
number of layers that will be relaxed on the surface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lower_limit</strong> – Lower limit of the central fixed region</p></li>
<li><p><strong>upper_limit</strong> – Upper limit of the central fixed region</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Enumerated slab model with “selective dynamics” labeled.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.calculate_num_sites">
<span class="sig-name descname"><span class="pre">calculate_num_sites</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">composition_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relaxed_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cell_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.calculate_num_sites" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the num of sites should be in the slab model on the basis
of the user defined composition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>composition_list</strong> – Compositions of enumerated species.</p></li>
<li><p><strong>relaxed_index</strong> – {“species”: [indices of the target species]}</p></li>
<li><p><strong>max_cell_size</strong> – Maximum number of supercells of the input slab.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of sites in the slab model.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.check_rotate">
<span class="sig-name descname"><span class="pre">check_rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">criteria</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.check_rotate" title="Permalink to this definition"></a></dt>
<dd><p>Check if the enumerated slab models need to rotate to satisfy the
shape (cuboid) requirement.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Cuboid slab model</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="surface_pd.core.Slab.direction">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">direction</span></span><a class="headerlink" href="#surface_pd.core.Slab.direction" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.get_center_sites">
<span class="sig-name descname"><span class="pre">get_center_sites</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.get_center_sites" title="Permalink to this definition"></a></dt>
<dd><p>Get the center sites in the slab model on the basis of the
“selective_dynamics” defined.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>lower and upper limits of the central fixed region, and the
central fixed structure</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.get_max_min_c_frac">
<span class="sig-name descname"><span class="pre">get_max_min_c_frac</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.get_max_min_c_frac" title="Permalink to this definition"></a></dt>
<dd><p>Get the maximum and minimum values of the c fractional coordinates for
all sites. This is used to find the location of the slab region in
the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>maximum and minimum c fractional coordinates of a slab model</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.group_atoms_by_layer">
<span class="sig-name descname"><span class="pre">group_atoms_by_layer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.group_atoms_by_layer" title="Permalink to this definition"></a></dt>
<dd><p>Group misclassified atoms into the right layers.
For example, c_atom1 = 0.01, c_atoms2 = 0.02, they should be
classified in one layer. But actually they are not. So this function
here will search the difference between two closest atoms, if the
difference is smaller than diff, they will be regrouped in the same
layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>layers</strong> – Dict which contains different c fractional
coordinates as keys and number of atoms as values.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict which contains different c fractional
coordinates as keys and number of atoms as values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.index_extraction">
<span class="sig-name descname"><span class="pre">index_extraction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">only_top</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.index_extraction" title="Permalink to this definition"></a></dt>
<dd><p>This function is used to get the indices of the target species in the
relaxed surface layers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>only_top</strong> – Whether to only return indices of the target species in
the top relaxed surface layer.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>[indices of the target species]}</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>{“species”</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.is_symmetry">
<span class="sig-name descname"><span class="pre">is_symmetry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_isc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.is_symmetry" title="Permalink to this definition"></a></dt>
<dd><p>Check whether the slab model is symmetric. If it is, the inversion
symmetry center and the inversion operation are able to return.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>symprec</strong> – Tolerance for symmetry finding. Defaults to 1e-1.</p></li>
<li><p><strong>return_isc</strong> – Whether to return the inversion symmetry center and
the inversion operation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.layer_distinguisher">
<span class="sig-name descname"><span class="pre">layer_distinguisher</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.layer_distinguisher" title="Permalink to this definition"></a></dt>
<dd><p>This function is used to distinguish the layers that will be relaxed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>c fractional coordinates of the upper and lower boundaries
of the central fixed region. (1, 2)</p>
<p>{“species”: [top (lower surface relaxed region) and bottom (upper
surface relaxed region) c fractional coordinates]}</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.layers_finder">
<span class="sig-name descname"><span class="pre">layers_finder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.layers_finder" title="Permalink to this definition"></a></dt>
<dd><p>This function is used to find the c fractional coordinates of all
species in the input slab model and the number of atoms in each
layer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>precision</strong> – Round c fraction coordinates to a given precision in
decimal digits. Defaults to 2.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>{“c fractional coordinates”: number of atoms at here}}</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>{“species”</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="surface_pd.core.Slab.num_layers_enumed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_layers_enumed</span></span><a class="headerlink" href="#surface_pd.core.Slab.num_layers_enumed" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.supplemental_structures_gene">
<span class="sig-name descname"><span class="pre">supplemental_structures_gene</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subs_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relaxed_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.supplemental_structures_gene" title="Permalink to this definition"></a></dt>
<dd><p>This function is used to generate supplemental structures.
Supplemental structures include the cases that the to-be-enumerated
structure is straight forward to generate and does not require the
EnumWithComposition class to involve.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subs_dict</strong> – Species and occupancy dictionaries containing the
species mapping in string-string pairs.</p></li>
<li><p><strong>relaxed_index</strong> – The indices of the to-be-enumerated atoms on the
surface.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New slab model with some sites removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.surface_substitute">
<span class="sig-name descname"><span class="pre">surface_substitute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dummy_species</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.surface_substitute" title="Permalink to this definition"></a></dt>
<dd><p>This function is used to substitute the to-be-enumerated species from
the slab top surface with dummy species. This will facilitate the
EnumWithComposition class to find the targeted species.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dummy_species</strong> – A special specie for representing non-traditional
elements or species.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Substituted slab model</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="surface_pd.core.Slab.symmetric">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">symmetric</span></span><a class="headerlink" href="#surface_pd.core.Slab.symmetric" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.symmetrize_top_base">
<span class="sig-name descname"><span class="pre">symmetrize_top_base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0001</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.symmetrize_top_base" title="Permalink to this definition"></a></dt>
<dd><p>Symmetrize the top surface enumerated slab
model on the basis of the inversion symmetry center to create a
fully enumerated slab model. The inversion symmetry center is
determined based on the central fixed region only because the input
slab model is not symmetric since on the one hand, the top surface
of the slab is substituted by other dummy species,
on the other hand, it has been enumerated with different Li and O
compositions on the surface. Therefore, using the whole slab to
detect the inversion symmetry does not work.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>symprec</strong> – Tolerance for the symmetry detection. Defaults to 1e-4.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Symmetrized slab model with equivalent top and bottom
surfaces.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="surface_pd.core.Slab.to_be_enumerated_species">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_be_enumerated_species</span></span><a class="headerlink" href="#surface_pd.core.Slab.to_be_enumerated_species" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="surface_pd.core.Slab.tolerance">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tolerance</span></span><a class="headerlink" href="#surface_pd.core.Slab.tolerance" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.tune_c">
<span class="sig-name descname"><span class="pre">tune_c</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_min_c</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.tune_c" title="Permalink to this definition"></a></dt>
<dd><p>Slightly adjust the slab along the slab direction defined before.
This is to make sure that the central region is still located at
around the same place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>target_min_c</strong> – Desired minimum fractional coordinate along the
slab direction defined before.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Slight adjusted slab model</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.tune_isc">
<span class="sig-name descname"><span class="pre">tune_isc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_isc_back</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.tune_isc" title="Permalink to this definition"></a></dt>
<dd><p>Shift or shift back the inversion symmetry center.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin</strong> – Inversion symmetry center.</p></li>
<li><p><strong>shift_isc_back</strong> – Whether to shift the inversion symmetry center to
the origin.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Slab model with inversion symmetry center shifted to the origin /</dt><dd><p>back.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="surface_pd.core.Slab.wrap_pbc">
<span class="sig-name descname"><span class="pre">wrap_pbc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#surface_pd.core.Slab.wrap_pbc" title="Permalink to this definition"></a></dt>
<dd><p>Wrap out of the boundary fractional coordinates back into the unit
cell.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Slab model with all sites in the unit cell.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="surface_pd.analysis.html" class="btn btn-neutral float-left" title="surface_pd.analysis package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="surface_pd.error.html" class="btn btn-neutral float-right" title="surface_pd.error package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Xinhao Li.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>